sbcl --lose-on-corruption --disable-ldb --dynamic-space-size 1024

(require 'asdf)
(asdf:oos 'asdf:load-op 'swank)
(setf swank::*loopback-interface* "0.0.0.0")

(swank:create-server :coding-system "utf-8-unix" :dont-close t)

(swank:create-server :coding-system "utf-8-unix" :dont-close t :port 8008)


(defun clear ()
  (loop :for var :being :the :symbols :in :wizard.impl.routes :do (unintern var))
  (restas:reconnect-all-routes))

(clear)


(restas:start '#:wizard :port 8081)
(restas:debug-mode-on)

[01:37] rigidus> я бы хотел, чтобы во время доступа (на чтение или
запись) к слоту некоего объекта вызывался метод этого объекта. куда
смотреть?
[06:03] dmitry_vk> rigidus: это можно сделать через MOP. См. методы
slot-value-using-class и (setf slot-value-using-class)


[21:09] rigidus> dmitry_vk: а что означает эта декларация? (declaim (ftype (function (integer &key (:on-error symbol))) f))
[21:09] dmitry_vk> Что f - это функция, которая принимает одно целое и
имеет ключевой параметр :on-error типа symbol
[21:10] dmitry_vk> LinkFly: хм, нет. :on-error - это имя параметра
(имя - это keyword), а symbol - его тип
[21:11] rigidus> а тип возвращаемого значения этой функции указать
можно?
[21:11] LinkFly> тогда норм:)
[21:11] dmitry_vk> Да, можно, после списка аргументов:
(ftype (function (arg-1-type .. arg-n-type) result-type))
[21:12] LinkFly> можно даже нескольких через (values result-type ...)
